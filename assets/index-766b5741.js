(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&m(c)}).observe(document,{childList:!0,subtree:!0});function w(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(t){if(t.ep)return;t.ep=!0;const r=w(t);fetch(t.href,r)}})();console.log("Game start!");let e,p,l,i,s,x,v,y,u,S,b,D,A,g,a,L;var f=0,d=3;let P="Carrots: "+f,k="Lives: "+d;window.setup=()=>{createCanvas(800,500),background("lightblue"),world.gravity.y=90,f=0,e=new Sprite(-750,450),S=loadAnimation("./assets/player-idle-1.png","./assets/player-idle-2.png"),S.frameDelay=30,e.width=48,e.height=112,e.shapeColor=color("red"),e.rotationLock=!0,b=loadAnimation("./assets/player-jump.png"),b.frameDelay=200,D=loadAnimation("./assets/player-success.png"),A=loadAnimation("./assets/player-damage-1.png"),a=new Group,a.width=30,a.height=4e3,a.collider="static",a.visible=!1,y=new Sprite(3300,350,200,400,"static"),y.collider="static",y.img="./assets/barn.png",p=new Group,p.collider="static",p.friction=0,v=new Sprite(0,800,1e5,50),v.collider="static",A.frameDelay=1e3,l=new Group,l.w=115,l.h=25,l.tile="=",l.collider="static",l.friction=0,l.img="./assets/Platform.png",s=new Group,s.w=115,s.h=20,s.collider="static",s.friction=0,s.img="./assets/falling.png",i=new Group,i.w=50,i.h=50,i.collider="static",L=loadAnimation("./assets/carrot-1.png","./assets/carrot-2.png","./assets/carrot-3.png","./assets/carrot-4.png"),L.frameDelay=32,u=new Group,u.w=56,u.h=56,u.collider="static";{let o=new a.Sprite(400,0);o.rotation=90,new a.Sprite(-790,250),new a.Sprite(3800,250);let n=new p.Sprite(0,500,1550,50);n.img="./assets/g1.png";let w=new p.Sprite(1250,500,700,50);w.img="./assets/g2.png";let m=new p.Sprite(3500,500,2e3,50);m.img="./assets/g4.png";let t=new u.Sprite;t.x=300,t.y=400;let r=new i.Sprite;r.x=250,r.y=125;let c=new i.Sprite;c.x=1050,c.y=425;let G=new i.Sprite;G.x=1850,G.y=400;let O=new i.Sprite;O.x=2750,O.y=400;let C=new i.Sprite;C.x=2975,C.y=50,e.overlaps(i,E);for(let h=0;h<4;h++)x=new s.Sprite,x.x=1660+115*h,x.y=350;new Tiles(["............................","............................","..=.........................","........=................=..",".=.=...................=...",".......................=....",".............=....=.........","............==....=..==.....","......=....===....==........","......=....===....==........"],0,200,l.w+4,l.h+4)}};window.draw=()=>{background("lightblue"),g="",e.x>-800&&e.x<-375?g="Welcome to Carrot Hero! Use your Right and Left arrow keys to move.":e.x>-400&&e.x<540?g="Use your Up arrow key to jump!":e.x>600&&e.x<1250?g="Avoid the stink bugs...":e.x>1400&&e.x<2e3&&(g="and watch out for surprises ;)"),text(g,width/2,150),textAlign(CENTER),text("("+mouseX+", "+mouseY+")",mouseX,mouseY),allSprites.debug=mouse.pressing(),P="Carrots: "+f,text(P,50,50),k="Lives: "+d,text(k,500,50),i.ani=L,e.overlapped(i)&&(f+=1,console.log("You collected a carrot!"),console.log(f)),camera.x=e.x,kb.pressing("right")?(e.vel.x=5,e.mirror.x=!1):kb.pressing("left")?(e.vel.x=-5,e.mirror.x=!0):(e.vel.x=0,e.ani=S),kb.presses("up")?(e.vel.y=-27,e.ani=b):kb.pressing("down")&&(e.vel.y=50);for(let o=0;o<4;o++)e.collides(s[o])&&(s[o].collider="dynamic");if(e.overlapping(y)){let o="Woohoo! You made it to the end with "+f+" carrots!! Please refresh to play again!";text(o,width/2,150),textAlign(CENTER),console.log("That's the end! Thanks for playing."),e.ani=D}else e.collides(v)&&(d-=1,T(),console.log("Uh oh, you fell!"));e.collides(u)&&(d-=1,e.ani=A),d==0&&N()};function T(){e.vel.x=0,e.vel.y=0,e.x=-750,e.y=450}function E(o,n){n.remove()}function N(){e.remove();let o="Game Over. You ran out of lives! Refresh to restart.";text(o,250,200)}
